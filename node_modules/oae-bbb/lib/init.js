var Cassandra = require('oae-util/lib/cassandra');

module.exports = function(config, callback) {
    _ensureSchema(function(err) {
        if (err) {
            return callback(err);
        }
		
		require('./activity');
		return callback(null);
    });
};

var _ensureSchema = function(callback) {
    Cassandra.createColumnFamilies({
        'Meeting': "CREATE TABLE 'Meeting' ('id' text PRIMARY KEY, 'displayName' text, 'description' text, 'welcomeMessage' text, 'password' text, 'visibility' text, 'record' text, 'duration' text )"
    }, callback);
};